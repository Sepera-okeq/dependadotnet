# Dependadotnet -- Generator for Dependabot config.yml for .NET

[Dependabot](https://dependabot.com/) is a service for automatically updating dependencies listed in project files for various languages, including [.NET](https://dependabot.com/dotnet/).

Dependabot works out of the box if you have a solution (`.sln`) or project file (like `.csproj`) at the root. It also apparently supports `packages.config`.

Examples of GitHub repos using various patterns with Dependabot:

- Solution at root -- [dustinchilson/NLog.Targets.GraylogHttp](https://github.com/dustinchilson/NLog.Targets.GraylogHttp)
- Config at root -- [PowerShell/PowerShell](https://github.com/PowerShell/PowerShell)

If msbuild solution or project assets are [nested under your repo](https://github.com/dependabot/feedback/issues/632), then Dependabot won't find them. You can specify them via the Dependabot web configuration UI, but that's not fun if you have lots of projects. Instead, you probably want to generate a configuration file of all your projects using your repo as input. That's what this tool does.

## Install the tool

This tool is currently only available as source, but will (hopefully) be distributed as a .NET Core tool on NuGet.org. Until then, you can build and install it yourself with the following instructions (assuming you cloned the repo at the same location):

```console
C:\git\dependadotnet\src\dependadotnet>dotnet pack -o nupkg -c release

C:\git\dependadotnet\src\dependadotnet>dotnet tool install -g dependadotnet --add-source .\nupkg
```

## Usage

`dependadotnet [path-to-repo-root]`

Alternatively, if you are in the repo root, you can use the following pattern to avoid needing to write the path:

`dependadotnet .`

The tool writes to stdout. The following pattern is recommended to generate the dependabot config file (assuming the `.dependabot` directory exists):

`dependadotnet . > .dependabot\config.yml`

It also supports passing the path via stdin, here demonstrated with `pwd` (for macOS and Linux).

`pwd | dependadotnet`

## Example Config

[.dependabot/config.yml](.dependabot/config.yml) was generated by this tool.

## TODO

- Check if the tool is being run from a repo root, and then generate the file with no additional args.
- Talk to the Dependabot folks about linking to this tool from their .NET docs / errors.
- Publish as a .NET tool on NuGet.org.
